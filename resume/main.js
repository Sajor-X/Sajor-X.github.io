!function(e){var t={};function i(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(a,o,function(t){return e[t]}.bind(null,o));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./dist/",i(i.s=0)}([function(e,t){var i=i||{};i.utils=i.utils||{},i.order=i.order||{},i.variable=i.variable||{},i.variable.user_type={free:"免费版",standard:"标准版",respect:"尊贵版",forever:"终身版"},i.utils={login_register_event:function(){$("#logout_btn,.logout_btn").click(function(){$.get("/logout/",function(){i.utils.init_info(),layer.msg("退出成功"),location.href="/"})}),$("#accountLoginModal input,#mobileCodeLoginModal input,#mobileCodeRegisterModal input,#findPasswordModal input").keydown(function(e){13!=e.keyCode&&13!=e.charCode||$(this).closest(".userLoginRegisterModal").find("button.btn-primary").trigger("click")}),$("#accountLoginModal button.btn-primary").on("click",function(){var e=$(this),t=$('#accountLoginModal input[name="loginName"]').val(),a=$('#accountLoginModal input[name="password"]').val();i.utils.isNull(t)?layer.msg("请填写登录账号"):i.utils.isNull(a)?layer.msg("请填写登录密码"):$.post("/signin/signin_submit/",{loginName:t,password:a},function(t){if(i.utils.validate_rsp_status(t)){if(i.utils.init_info(),!i.utils.wechat_bind_check())return void i.utils.boostrap_modal_close(e);if(-1!=location.pathname.indexOf("/signin/")){var a=i.utils.getQueryString("redirect_url");console.log(a),i.utils.isNull(a)?location.href="/":location.href=a}else i.utils.boostrap_modal_close(e),layer.msg("登录成功")}else layer.msg(t.msg)})}),$(document).on("click","#mobileCodeLoginModal span.get_mobile_code:not(.disabled)",function(){var e,t=$(this),a=$('#mobileCodeLoginModal input[name="mobile"]').val(),o=60;t.addClass("disabled"),t.text("获取验证码("+o+"s)");var s=i.utils.get_sign();s=$.extend(s,{mobile:a}),$.post("/signin/send_verify_code/",s,function(i){"2"==i.state?e=setInterval(function(){0==o?(clearInterval(e),t.text("获取验证码"),t.removeClass("disabled")):(o--,t.text("获取验证码("+o+"s)"))},1e3):(t.text("获取验证码"),t.removeClass("disabled"),layer.msg(i.msg))})}),$("#mobileCodeLoginModal button.btn-primary").on("click",function(){var e=$(this),t=$('#mobileCodeLoginModal input[name="mobile"]').val(),a=$('#mobileCodeLoginModal input[name="verifyCode"]').val();i.utils.isNull(t)?layer.msg("请填写手机号码"):i.utils.isNull(a)?layer.msg("请填写手机验证码"):$.post("/signin/signin_and_register/",{mobile:t,verifyCode:a},function(t){if(i.utils.validate_rsp_status(t)){if(!i.utils.wechat_bind_check())return void i.utils.boostrap_modal_close(e);if(-1!=location.href.indexOf("/signin/")){var a=i.utils.getQueryString("redirect_url");console.log(a),i.utils.isNull(a)?location.href="/":location.href=a}else i.utils.boostrap_modal_close(e),layer.msg("登录成功"),i.utils.init_info()}else layer.msg(t.msg)})}),$(document).on("click","#mobileCodeRegisterModal span.get_mobile_code:not(.disabled)",function(){var e,t=$(this),a=$('#mobileCodeRegisterModal input[name="mobile"]').val(),o=60;t.addClass("disabled"),t.text("获取验证码("+o+"s)");var s=i.utils.get_sign();s=$.extend(s,{mobile:a}),$.post("/signin/send_reg_verify_code/",s,function(i){"2"==i.state?e=setInterval(function(){0==o?(clearInterval(e),t.text("获取验证码"),t.removeClass("disabled")):(o--,t.text("获取验证码("+o+"s)"))},1e3):(t.text("获取验证码"),t.removeClass("disabled"),layer.msg(i.msg))})}),$("#mobileCodeRegisterModal button.btn-primary").on("click",function(){var e=$(this),t=$('#mobileCodeRegisterModal input[name="mobile"]').val(),a=$('#mobileCodeRegisterModal input[name="password"]').val(),o=$('#mobileCodeRegisterModal input[name="verifyCode"]').val();i.utils.isNull(t)?layer.msg("请填写手机号码"):i.utils.isNull(a)?layer.msg("请填写密码"):i.utils.isNull(o)?layer.msg("请填写手机验证码"):$.post("/signin/signin_and_register/",{mobile:t,verifyCode:o,password:a},function(t){if(i.utils.validate_rsp_status(t)){if(!i.utils.wechat_bind_check())return void i.utils.boostrap_modal_close(e);if(-1!=location.href.indexOf("/signin/")){var a=i.utils.getQueryString("redirect_url");console.log(a),i.utils.isNull(a)?location.href="/":location.href=a}else i.utils.boostrap_modal_close(e),layer.msg("注册成功"),i.utils.init_info()}else layer.msg(t.msg)})}),$(document).on("click","#findPasswordModal span.get_mobile_code:not(.disabled)",function(){var e,t=$(this),a=$('#findPasswordModal input[name="mobile"]').val(),o=60;t.addClass("disabled"),t.text("获取验证码("+o+"s)");var s=i.utils.get_sign();s=$.extend(s,{mobile:a}),$.post("/signin/send_password_verify_code/",s,function(i){"2"==i.state?e=setInterval(function(){0==o?(clearInterval(e),t.text("获取验证码"),t.removeClass("disabled")):(o--,t.text("获取验证码("+o+"s)"))},1e3):(t.text("获取验证码"),t.removeClass("disabled"),layer.msg(i.msg))})}),$("#findPasswordModal .opt_1 button.btn-primary").on("click",function(){var e=$('#findPasswordModal input[name="mobile"]').val(),t=$('#findPasswordModal input[name="verifyCode"]').val();i.utils.isNull(e)?layer.msg("请填写手机号码"):i.utils.isNull(t)?layer.msg("请填写手机验证码"):($("#findPasswordModal .opt_1").hide(),$("#findPasswordModal .opt_2").show())}),$("#findPasswordModal .opt_2 .reback").on("click",function(){$("#findPasswordModal .opt_1").show(),$("#findPasswordModal .opt_2").hide()}),$("#findPasswordModal .opt_2 button.btn-primary").on("click",function(){var e=$(this),t=$('#findPasswordModal input[name="mobile"]').val(),a=$('#findPasswordModal input[name="verifyCode"]').val(),o=$('#findPasswordModal input[name="newPassword"]').val(),s=$('#findPasswordModal input[name="reNewPassword"]').val();i.utils.isNull(t)?layer.msg("请填写手机号码"):i.utils.isNull(a)?layer.msg("请填写手机验证码"):$.post("/signin/find_password/",{mobile:t,verifyCode:a,newPassword:o,reNewPassword:s},function(t){if(i.utils.validate_rsp_status(t))if(-1!=location.href.indexOf("/signin/")){var a=i.utils.getQueryString("redirect_url");console.log(a),i.utils.isNull(a)?location.href="/":location.href=a}else i.utils.boostrap_modal_close(e),layer.msg("重置密码成功");else layer.msg(t.msg)})}),$(document).on("click","#mobileModifyModal span.get_mobile_code:not(.disabled)",function(){var e,t=$(this),a=$('#mobileModifyModal input[name="mobile"]').val(),o=60;t.addClass("disabled"),t.text("获取验证码("+o+"s)");var s=i.utils.get_sign();s=$.extend(s,{mobile:a}),$.post("/signin/send_modify_mobile_code/",s,function(i){"2"==i.state?e=setInterval(function(){0==o?(clearInterval(e),t.text("获取验证码"),t.removeClass("disabled")):(o--,t.text("获取验证码("+o+"s)"))},1e3):(t.text("获取验证码"),t.removeClass("disabled"),layer.msg(i.msg))})}),$("#mobileModifyModal button.btn-primary").on("click",function(){var e=$(this),t=$('#mobileModifyModal input[name="mobile"]').val(),a=$('#mobileModifyModal input[name="verifyCode"]').val(),o=$('#mobileModifyModal input[name="newMobile"]').val();i.utils.isNull(t)?layer.msg("请填写原手机号码"):i.utils.isNull(o)?layer.msg("请填写新手机号码"):i.utils.isNull(a)?layer.msg("请填写手机验证码"):$.post("/user/modify_mobile/",{orgMobile:t,verifyCode:a,newMobile:o},function(t){i.utils.validate_rsp_status(t)?(i.utils.boostrap_modal_close(e),layer.msg("修改成功")):layer.msg(t.msg)})}),$(document).on("click","#mobileBindModal span.get_mobile_code:not(.disabled)",function(){var e,t=$(this),a=$('#mobileBindModal input[name="mobile"]').val(),o=60;t.addClass("disabled"),t.text("获取验证码("+o+"s)");var s=i.utils.get_sign();s=$.extend(s,{mobile:a}),$.post("/signin/send_bind_mobile_code/",s,function(i){"2"==i.state?e=setInterval(function(){0==o?(clearInterval(e),t.text("获取验证码"),t.removeClass("disabled")):(o--,t.text("获取验证码("+o+"s)"))},1e3):(t.text("获取验证码"),t.removeClass("disabled"),layer.msg(i.msg))})}),$("#mobileBindModal button.btn-primary").on("click",function(){$(this);var e=$('#mobileBindModal input[name="mobile"]').val(),t=$('#mobileBindModal input[name="verifyCode"]').val(),a=$('#mobileBindModal input[name="password"]').val();i.utils.isNull(e)?layer.msg("请填写手机号码"):i.utils.isNull(t)?layer.msg("请填写手机验证码"):i.utils.isNull(a)?layer.msg("请输入密码"):$.post("/user/bind_mobile/",{mobile:e,verifyCode:t,password:a},function(e){i.utils.validate_rsp_status(e)?(layer.msg("绑定成功"),location.href="/signin/tips/",$("#mobileBindModal").modal("hide")):layer.msg(e.msg)})}),$("#modifyPasswordModal button.btn-primary").on("click",function(){var e=$(this),t=$('#modifyPasswordModal input[name="orgPassword"]').val(),a=$('#modifyPasswordModal input[name="newPassword"]').val(),o=$('#modifyPasswordModal input[name="newPassword2"]').val();i.utils.isNull(t)?layer.msg("请输入原密码"):i.utils.isNull(a)||i.utils.isNull(o)?layer.msg("请输入新密码"):a==o?$.post("/user/modify_password/",{orgPassword:t,newPassword:a},function(t){i.utils.validate_rsp_status(t)?(i.utils.boostrap_modal_close(e),layer.msg("修改成功")):layer.msg(t.msg)}):layer.msg("两次输入的新密码不一致")})},common_event:{init_header_event:function(){function e(){var e=$(".search_nav input.head_keyword").val();if(location.pathname.indexOf("/ppt")>=0)window.trackevent("PC|搜索词|PPT模板|"+e),setTimeout(function(){window.location.href="/ppt/?searchWord="+e},100);else if("/"==location.pathname){if(window.trackevent("PC|搜索词|首页|"+e),null!=e&&e.indexOf("小升初")>=0)return void(location.href="/jianli-xiaoshengchu/");setTimeout(function(){e=(e=i.utils.str2Unicdoe(e)).replace(/\\u/g,"_"),location.href="/resume/search-"+e+"/"},100)}else window.trackevent("PC|搜索词|模板商城|"+e),setTimeout(function(){window.location.href="/jianli/?searchWord="+e},100)}$(document).on("click",".search_nav .icon:not(.keyword_change)",function(){$(".search_nav").find(".search_val input").hasClass("showIn")?$(".search_nav").find(".search_val input").animate({width:"0px"},500):window.innerWidth<=1160?$(".search_nav").find(".search_val input").animate({width:"200px"},500):$(".search_nav").find(".search_val input").animate({width:"280px"},500),$(".search_nav").toggleClass("showIn"),$(".search_nav").find(".search_val input").toggleClass("showIn")}),$(document).on("click",".search_nav .icon.keyword_change",function(){e()}),$(document).on("keyup",".search_nav input.head_keyword",function(t){13==t.keyCode&&e()}),$(document).on("change",".search_nav input.head_keyword",function(e){"change"==e.type&&$(".search_nav").hasClass("showIn")&&$(".search_nav .icon").addClass("keyword_change")})},scroll_change_header:function(){$(window).scroll(function(){try{document.documentElement.scrollTop>100?$("body").addClass("white_header"):$("body").removeClass("white_header")}catch(e){}})},footer_postion:function(){var e=$(window).height(),t=$("html").height();e>t&&$(".layout-footer").css("margin-top",e-t)},float_right_event:function(){var e=$('<div class="float_right" style="display:none"></div>');if("/resume/"!=location.pathname&&"/custom/"!=location.pathname&&"/user/order/"!=location.pathname&&"/user/resume/"!=location.pathname||(e.append('<div class="service_kf" onclick="javascript:window.open(http://chuizi100.mikecrm.com/gAZ8zjJ)"><div class="weixin_content"><img src="https://file.100chui.com/upload/user/image/202007/weixinqrcode.jpg" class="weixin_qrcode"></div></div>'),e.attr("style","")),"/"==location.pathname||"/jianli/"==location.pathname||0==location.pathname.indexOf("/ppt/")||$("body.resume_index").length>0||$("body.resume_detail_box").length>0){e.append('<a class="scroll_top"></a>'),e.attr("style",""),$(document).on("click",".scroll_top",function(){$("html, body").animate({scrollTop:0},700)});$(window).scroll(function(){$(window).scrollTop()>200?$(".scroll_top").fadeIn(100):$(".scroll_top").fadeOut(100)})}$("div.float_right").length<=0&&$("body").append(e[0].outerHTML)},brower_check_event:function(){var e=i.utils.brower_info(),t="";try{var a;if(e.edge?e.name="Edge":e.safari?e.name="Safari":e.firefox?e.name="火狐":e.liebao?e.name="猎豹":e.sougou?e.name="搜狗":e.baidu?e.name="百度":e.wechatPC?e.name="PC版微信":e.QQBrowser?e.name="QQ":e.ie?e.name="Internet Explorer":e.chrome&&(e.name="谷歌"),e.ie)t="Internet Explorer"!==e.name?"你正在使用浏览器的兼容模式，为了保证您良好的编辑体验， 请切换到极速模式或更换以下推荐的最新版浏览器":"由于您的浏览器存在部分兼容问题，为了保证您良好的编辑体验， 请升级或更换以下推荐的最新版浏览器，QQ和360浏览器需要切换到极速模式";else if(e.chrome){if(a=window.navigator.userAgent.match(/Chrome\/[\d\.]+/)){var o=a[0].replace("Chrome/","");(o=+o.slice(0,o.indexOf(".")))<=50&&(t="由于您的浏览器版本过低，为了保证您良好的编辑体验， 请升级或更换以下推荐的最新版浏览器")}}else if(e.firefox){if(a=window.navigator.userAgent.match(/Firefox\/[\d\.]+/)){var s=a[0].replace("Firefox/","");(s=+s.slice(0,s.indexOf(".")))<=50&&(t="由于您的浏览器版本过低，为了保证您良好的编辑体验， 请升级或更换以下推荐的最新版浏览器")}}else if(e.safari&&(a=window.navigator.userAgent.match(/Version\/[\d\.]+/))){var n=a[0].replace("Version/","");(n=+n.slice(0,n.indexOf(".")))<=9&&(t="由于您的浏览器版本过低，为了保证您良好的编辑体验， 请升级或更换以下推荐的最新版浏览器")}if(""!=t){var l='<div class="modal fade" id="brower_check_modal" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><span class="title">兼容提示</span><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><span>'+t+'</span><ul><li><div class="brower_logo google_logo"></div><a class="tips" target="_blank" href="https://www.google.cn/intl/zh-CN/chrome/">Chrome谷歌浏览器</a></li><li><div class="brower_logo jisu_logo"></div><a class="tips" target="_blank" href="https://browser.360.cn/ee/">360极速浏览器</a></li><li><div class="brower_logo qq_logo"></div><a class="tips" target="_blank" href="https://browser.qq.com/">QQ浏览器</a></li></ul></div></div></div></div>';$("#brower_check_modal").length<=0&&$("body").append($(l)),$("#brower_check_modal").modal("show")}}catch(e){console.error("浏览器检测失败：",e)}},init_vip_event:function(){}},event_:function(){i.utils.common_event.init_header_event(),i.utils.common_event.footer_postion(),i.utils.common_event.float_right_event(),i.utils.common_event.init_vip_event(),i.utils.login_register_event(),i.utils.outside_statistics(),i.utils.built_resume_modal(),$(document).on("show.bs.modal",".modal:not(#change_template_modal)",function(){var e=$(this),t=e.find(".modal-dialog");e.css("display","block"),t.css({"margin-top":Math.max(0,($(window).height()-t.height())/2)})}),$(document).on("click","a[href]",function(){var e=$(this).attr("target");if(i.utils.isNull(e)){var t=$(this).attr("href");i.utils.isNull(t)||-1==t.indexOf("/")||i.utils.progress_start(20)}}),$(document).on("click","button:not(.noloading)",function(){var e=$(this);e.button("loading"),setTimeout(function(){e.button("reset")},1500)}),$(".success-login a.success-a,.member_left_nav_i").mouseover(function(){$("ul.login-dropdown").show()}),$("#success-login,.member_left_nav").mouseleave(function(){$("ul.login-dropdown").hide()}),$(".index_search input").keydown(function(e){13!=e.keyCode&&13!=e.charCode||$(".index_search a.index_search_btn").trigger("click")}),$(".index_search a.index_search_btn").click(function(){var e=$(".index_search input").val();null!=e&&""!=e||(e="简历模板"),window.trackevent("PC|搜索词|首页|"+e),setTimeout(function(){e=(e=i.utils.str2Unicdoe(e)).replace(/\\u/g,"_"),location.href="/jianli/search-"+e+"/"},100)}),$('.search-container input[name="searchword"]').keydown(function(e){13!=e.keyCode&&13!=e.charCode||$(".search-container input.search").trigger("click")}),$(".search-container input.search").click(function(){var e=$(".search-container .fliter_from a.choosed").attr("data-target"),t=$('.search-container input[name="searchword"]').val();null!=t&&""!=t||(t="简历模板"),window.trackevent("PC|搜索词|搜索页|"+t),setTimeout(function(){t=(t=i.utils.str2Unicdoe(t)).replace(/\\u/g,"_"),location.href="/"+e+"/search-"+t+"/"},100)}),$(".search-container a[data-target]").click(function(){var e=$(this).attr("data-target"),t=$('.search-container input[name="searchword"]').val();null==t&&(t="all"),t=(t=i.utils.str2Unicdoe(t)).replace(/\\u/g,"_"),location.href="/"+e+"/search-"+t+"/"});var e=location.pathname;"/"==e?$(".sy-nav li").eq(0).addClass("nav-active"):0==e.indexOf("/resume/")?$(".sy-nav li").eq(1).addClass("nav-active"):-1!=e.indexOf("/jianli/")?$(".sy-nav li").eq(2).addClass("nav-active"):-1!=e.indexOf("/ppt/")?$(".sy-nav li").eq(3).addClass("nav-active"):-1!=e.indexOf("/custom/")?$(".sy-nav li").eq(4).addClass("nav-active"):-1!=e.indexOf("/article/")&&$(".sy-nav li").eq(5).addClass("nav-active"),i.utils.empty_tips_opt(),$(document).on("click",".order_create_btn",function(){if(i.utils.checkLogin()){var e=$(this),t=e.attr("data-id"),a=e.attr("data-price"),o={pid:t,price:a,name:e.attr("data-name")},s=e.attr("data-url");if(null!=s&&""!=s&&$.extend(i.order,{payUrl:s}),!i.utils.isNull(a)&&parseFloat(a)<=0){$.extend(i.order,o),$.extend(i.order,{mid:"1"});var n=i.utils.create_order_method();"2"==n.state?($("#subscribeWeixinTipsModal").modal("show"),$("#subscribeWeixinTipsModal").find(".modal-footer a").attr("href",n.msg)):layer.msg(n.msg)}else i.utils.pay_modal(o)}else $("#accountLoginModal").modal("show")})},initi:function(){i.utils.event_(),i.utils.init_info(),i.utils.token_deal()},isNull:function(e){return""==e||null==e||null==e},isNumber:function(e){if(null==e)return!1;return!!/^(-?\d+)(\.\d+)?$/.test(e)},validate_rsp_status:function(e){return""!=e&&null!=e&&null!=e&&"2"==e.state},init_info:function(){var e=i.utils.getCookie("avatar"),t=i.utils.getCookie("user_type"),a=i.utils.getCookie("userid"),o=i.utils.getCookie("vip_expire_date"),s=i.utils.getCookie("user_nickname");try{i.utils.isNull(e)?$(".user_avatar").attr("src","/public/pc/common/default_head.png"):$(".user_avatar").attr("src",e),i.utils.isNull(a)||$(".userid").text(a),i.utils.isNull(t)&&(t="free"),$(".user_type").text(i.variable.user_type[t]),$(".user_type_attr").attr("user_type",t),i.utils.isNull(o)?$(".vip_expire_date").text("终身有效"):$(".vip_expire_date").text(o),i.utils.isNull(s)||$(".user_nickname").text(s)}catch(e){console.error("设置基本信息出错~",e)}a=i.utils.getCookie("userid");i.utils.isNull(a)?($(".not_singin_tips").length>0&&$(".not_singin_tips").show(),$(".header_bar .right i:last").length>0&&$(".header_bar .right i:last").hide(),$("#fail-login").show(),$("#success-login").hide()):($("#success-login").show(),$("#fail-login").hide(),$(".not_singin_tips").length>0&&$(".not_singin_tips").hide(),$(".header_bar .right i:last").length>0&&$(".header_bar .right i:last").show())},checkLogin:function(){var e=!1;return $.ajax({url:"/signin/check/",type:"GET",dataType:"json",cache:!1,async:!1,success:function(t){e=t}}),e},addCookie:function(e,t,i){if(arguments.length>1&&null!=e){if(null==i&&(i={}),null==t&&(i.expires=-1),"number"==typeof i.expires){var a=i.expires,o=i.expires=new Date;o.setTime(o.getTime()+1e3*a)}try{i.path="/",document.cookie=encodeURIComponent(String(e))+"="+encodeURIComponent(String(t))+(i.expires?"; expires="+i.expires.toUTCString():"")+(i.path?"; path="+i.path:"")+(i.domain?"; domain="+i.domain:""),i.secure}catch(e){console.log("设置cookie异常",e)}}},getCookie:function(e){if(null!=e){var t=new RegExp("(?:^|; )"+encodeURIComponent(String(e))+"=([^;]*)").exec(document.cookie);return t?decodeURIComponent(t[1]):null}},removeCookie:function(e,t){i.utils.addCookie(e,null,t)},redirectLogin:function(e,t,i){var a=sys.base;a+=null==i||""==i?"/signin/":"/mobile/signin/",null!=e&&(a+="?redirect_url="+encodeURIComponent(e)),null!=t?(layer.msg(t),setTimeout(function(){location.href=a},1e3)):location.href=a},token_deal:function(){$(document).ajaxSend(function(e,t,a){if(!a.crossDomain&&null!=a.type&&"post"==a.type.toLowerCase()){var o=i.utils.getCookie("token");null!=o&&t.setRequestHeader("token",o)}}),$(document).ajaxComplete(function(e,t,a){if(null!=t){try{t.getResponseHeader("loginStatus")}catch(e){return}var o=t.getResponseHeader("loginStatus"),s=t.getResponseHeader("tokenStatus"),n=t.getResponseHeader("loginUrl");if("accessDenied"==o)"loginUrl"==n?i.utils.redirectLogin(location.href,"请登录后再进行操作",n):i.utils.redirectLogin(location.href,"请登录后再进行操作");else if("accessDenied"==s){var l=i.utils.getCookie("token");null!=l&&($.extend(a,{global:!1,headers:{token:l}}),$.ajax(a))}}}),$("form").submit(function(){var e=$(this);if(null!=e.attr("method")&&"post"==e.attr("method").toLowerCase()&&0==e.find("input[name='token']").size()){var t=i.utils.getCookie("token");null!=t&&e.append('<input type="hidden" name="token" value="'+t+'" />')}})},getQueryString:function(e){try{var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);if(null!=i)return unescape(i[2])}catch(e){console.log("获取参数异常"+e)}return null},digest_code:function(e){return md5("qwfeetgqerfwevsddyr"+e)},init_touch_code_drag:function(e){$(".drag_code").each(function(e,t){$(t).html("")}),e.drag()},dataFormat:function(e,t){var i={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[a]:("00"+i[a]).substr((""+i[a]).length)));return t},addDate:function(e,t,a){var o;i.utils.isNull(a)&&(a="-"),(o=i.utils.isNull(e)?new Date:new Date(e)).setDate(o.getDate()+t);var s=o.getMonth()+1,n=o.getDate();return s<10&&(s="0"+s),n<10&&(n="0"+n),o.getFullYear()+a+s+a+n},brower_info:function(){var e={name:"",safari:!1,chrome:!1,firefox:!1,ie:!1,edge:!1,wechatPC:!1,QQBrowser:!1,liebao:!1,baidu:!1,sougou:!1};try{var t=window.navigator.userAgent;e.ios=/(iPhone|iPod|iPad)/gi.test(t),e.mac=/Mac OS/gi.test(t),e.safari=(e.ios||e.mac)&&/(Safari|Version)/gi.test(t),e.chrome=/Chrome/gi.test(t),e.firefox=/Firefox/gi.test(t),e.ie=/(Trident|MSIE)/gi.test(t)&&"ActiveXObject"in window,e.edge=/Edge/gi.test(t),e.wechat=/MicroMessenger/gi.test(t),e.wechatPC=/WindowsWechat/gi.test(t)&&e.wechat,e.QQBrowser=/QQBrowser/gi.test(t),e.liebao=/lbbrowser/gi.test(t),e.baidu=/BIDUBrowser/gi.test(t),e.sougou=/SE 2\.X MetaSr/gi.test(t)}catch(e){console.error("浏览器检测出错："+e)}return e},downlod_file:function(e,t,a){var o={};if(i.utils.common_loadding(2e3),null!=a&&""!=a){if(2!=(o=i.utils.vip_check(a,t)).state)return null!=o.msg&&o.msg.indexOf("登录")>=0&&$("#accountLoginModal").modal("show"),i.utils.common_loadding_hide(),!1;var s=JSON.parse(o.msg);download_url=e+"?code="+t+"&keyid="+s.keyid+"&time="+s.time+"&encrypt="+s.encrypt}else{if(2!=(o=i.utils.get_down_msg(t)).state)return layer.msg(o.msg),i.utils.common_loadding_hide(),!1;download_url=e+"?code="+t+"&keyid="+o.data.keyid+"&time="+o.data.time+"&encrypt="+o.data.encrypt}var n={};if($.ajax({url:download_url+"&pre_download_check=true",type:"GET",dataType:"json",cache:!1,async:!1,success:function(e){n=e}}),null!=n.state&&2!=n.state)return layer.msg(n.msg),i.utils.common_loadding_hide(),!1;i.utils.is_mobile_ios()?(i.utils.common_loadding_hide(),i.utils.common_tips_modal({title:"下载提示",content:'<div class="down_tips">抱歉！IOS系统因兼容性问题下载可能会出现乱码，建议在下方输入你的邮箱地址进行下载</div><input class="email_input" placeholder="请输入邮箱地址"/>',css_class:"default_modal ios_email_download",ok:"确定",cancel:"取消",onOk:function(){var e=$(".ios_email_download .email_input").val();if(null==e||""==e)return layer.msg("请输入邮箱地址~"),!1;e=e.replace(new RegExp(/( )/g),""),download_url=download_url+"&email="+e,$.ajax({url:download_url,type:"GET",dataType:"json",cache:!1,async:!1,success:function(e){return layer.msg(e.msg),2==e.state}})}})):location.href=download_url},get_down_msg:function(e){if(null!=e){var t={};return $.ajax({url:"/download/msg/?v="+(new Date).getTime(),dataType:"json",async:!1,data:{code:e},type:"GET",success:function(e){t=e}}),t}layer.msg("数据错误,请刷新重试~")},vip_check:function(e,t,a){if(null!=e&&null!=t){var o={};return $.ajax({url:"/vip/check/?v="+(new Date).getTime(),dataType:"json",async:!1,data:{type:e,code:t},type:"GET",success:function(e){"1"==e.state?(null!=a&&null!=a&&(e.msg=a),i.utils.up_vip_tips(e.msg)):"0"==e.state&&layer.msg(e.msg),o=e}}),o}layer.msg("数据错误,请刷新重试~")},up_vip_tips:function(e){null!=e&&""!=e||(e="当前操作需要升级会员才可以继续操作");var t={css_class:"up_vip_tips",content:'<div class="up_vip_tips_text_01">'+e+'</div><div class="up_vip_tips_text_02">请升级会员后继续</div>',cancel:"取消",ok:"立即升级",onOk:function(){window.open("/vip/")}};i.utils.common_tips_modal(t)},vip_pay_modal:function(e){var t=$("#common_tips_modal.vip_pay_modal");if(t.length>0)t.modal("show");else{var a=$(".vip_pay_container").clone();a.removeClass("hide"),i.utils.common_tips_modal({title:"",content:a[0].outerHTML,css_class:"vip_pay_modal",cancel:"",ok:""}),t=$("#common_tips_modal.vip_pay_modal")}t.find(".vip_pay_item .grade_item li.list").removeClass("choosed");var o=t.find('.vip_pay_item .grade_item li.list[vip_type="'+e+'"]');o.addClass("choosed"),$("#common_tips_modal.vip_pay_modal .vip_pay_settle .total_price").text("￥"+o.find(".vip_price_number").text()),$(document).off("click","#common_tips_modal.vip_pay_modal .vip_pay_item .grade_item li.list"),$(document).on("click","#common_tips_modal.vip_pay_modal .vip_pay_item .grade_item li.list",function(){var e=$(this);$("#common_tips_modal.vip_pay_modal .vip_pay_item .grade_item li.list").removeClass("choosed"),e.addClass("choosed"),$("#common_tips_modal.vip_pay_modal .vip_pay_settle .total_price").text("￥"+e.find(".vip_price_number").text())}),$(document).off("click","#common_tips_modal.vip_pay_modal .vip_pay_method_item li.pay_item_list"),$(document).on("click","#common_tips_modal.vip_pay_modal .vip_pay_method_item li.pay_item_list",function(){$("#common_tips_modal.vip_pay_modal .vip_pay_method_item li.pay_item_list").removeClass("checked"),$(this).addClass("checked")}),$(document).off("click","#common_tips_modal.vip_pay_modal a.pay_btn"),$(document).on("click","#common_tips_modal.vip_pay_modal a.pay_btn",function(){var e=$("#common_tips_modal.vip_pay_modal .vip_pay_method_item li.pay_item_list.checked").attr("data-value"),a=$("#common_tips_modal.vip_pay_modal .vip_pay_item .grade_item li.list.choosed").attr("vip_type");if(i.utils.isNull(e))layer.msg("请选择支付方式");else if(i.utils.isNull(a))layer.msg("请选择会员类型");else{var o={state:"0",msg:"创建订单失败"};if($.ajax({url:"/vip/pay/",dataType:"json",async:!1,data:{type:a,mid:e},type:"POST",success:function(e){"2"==e.state?o.state="2":"请先登录"==e.msg&&($("#accountLoginModal").modal("show"),t.modal("hide")),o.msg=e.msg}}),"2"==o.state){var s=setInterval(function(){$.get("/pay/check_status/?v="+(new Date).getTime(),{sn:o.msg},function(){})},1500);$("#common_tips_modal.vip_pay_modal").modal("hide");var n={css_class:"order_success_tips",content:'<div><img src="/static/pc/main/images/order_success_tips.jpg"/><span class="title">请在你新打开的页面上完成付款</span><span class="tips">支付完成后，请根据您支付的情况点击下面按钮。</span></div>',cancel:"遇到问题",onCancel:function(){window.open("http://chuizi100.mikecrm.com/gAZ8zjJ"),clearInterval(s)},ok:"支付成功",onOk:function(){location.href="/user/order/",clearInterval(s)}};i.utils.common_tips_modal(n),i.utils.is_pc()||"1"!=e?window.open("/pay/"+o.msg+"/"):i.utils.weixin_mp_pay(o.msg)}else layer.msg(o.msg)}})},custom_pay_modal:function(e){var t='<div class="modal fade" id="order_create_modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><span class="title">确认订单信息</span><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><div class="product_info"><div class="nave"><p class="left">商品名称</p><p class="right">数量</p></div>$product_info_html$</div><div class="pay_method"><div class="title">请选择支付方式</div><div class="pay_method_chosse"><div class="pay_method_chosse_type"><input name="pay_type" data-value="1" type="radio" checked="checked" /><span class="weixin"></span></div><div class="pay_method_chosse_type"><input name="pay_type" data-value="2" type="radio" /><span class="zhifubao"></span></div></div></div></div><div class="modal-footer"><p class="heji">合计：<span>￥</span><span class="product_price">'+e.price+'</span></p><button type="button" class="btn btn-primary">立即支付</button></div></div></div></div>';if(null!=e&&""!=e.goodNames){var a=e.goodNames.replace("/，/g",",").split(","),o="";$.each(a,function(e,t){o=o+'<div class="info"><p class="left">'+t+'</p><p class="right">1</p></div>'}),t=t.replace("$product_info_html$",o),$("#order_create_modal").remove(),$("body").append(t),$("#order_create_modal").modal("show"),$(".pay_method_chosse_type span").off("click"),$(document).on("click",".pay_method_chosse_type span",function(){$(this).siblings("input").trigger("click")}),$(document).off("click","#order_create_modal button.btn-primary"),$(document).on("click","#order_create_modal button.btn-primary",function(){var t=$("input[name='pay_type']:checked").attr("data-value");if(i.utils.isNull(t))layer.msg("请选择支付方式");else{$.extend(e,{mid:t});var a={state:"0",msg:"创建订单失败"};if($.ajax({url:"/custom/pay/",dataType:"json",async:!1,data:e,type:"POST",success:function(e){"2"==e.state&&(a.state="2"),a.msg=e.msg}}),"2"==a.state){$("#order_create_modal").modal("hide");var o={css_class:"order_success_tips",content:'<div><img src="/static/pc/main/images/order_success_tips.jpg"/><span class="title">请在你新打开的页面上完成付款</span><span class="tips">支付完成后，请根据您支付的情况点击下面按钮。</span></div>',cancel:"遇到问题",onCancel:function(){window.open("http://chuizi100.mikecrm.com/gAZ8zjJ"),clearInterval(check_payment_status)},ok:"支付成功",onOk:function(){location.href="/user/order/",clearInterval(check_payment_status)}};i.utils.common_tips_modal(o),i.utils.is_pc()||"1"!=t?window.open("/pay/"+a.msg+"/"):i.utils.weixin_mp_pay(a.msg)}else layer.msg(a.msg)}})}else layer.msg("请先选择需要的服务")},pay_modal:function(e){$.extend(i.order,e);var t='<div class="modal fade" id="order_create_modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><span class="title">确认订单信息</span><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><div class="product_info"><div class="nave"><p class="left">商品名称</p><p class="right">价格</p></div><div class="info"><p class="left">'+i.order.name+'</p><p class="right price">&yen;'+i.order.price+'</p></div></div><div class="pay_method"><div class="title">请选择支付方式</div><div class="pay_method_chosse"><div class="pay_method_chosse_type"><input name="pay_type" data-value="1" type="radio" checked="checked" /><span class="weixin"></span></div><div class="pay_method_chosse_type"><input name="pay_type" data-value="2" type="radio" /><span class="zhifubao"></span></div></div></div></div><div class="modal-footer"><p class="heji">合计：<span>￥</span><span class="product_price">'+i.order.price+'</span></p><button type="button" class="btn btn-primary">立即支付</button></div></div></div></div>';$("#order_create_modal").remove(),$("body").append(t),$("#order_create_modal").modal("show"),$(".pay_method_chosse_type span").off("click"),$(document).on("click",".pay_method_chosse_type span",function(){$(this).siblings("input").trigger("click")}),$(document).off("click","#order_create_modal button.btn-primary"),$(document).on("click","#order_create_modal button.btn-primary",function(){var e=$("input[name='pay_type']:checked").attr("data-value");if(i.utils.isNull(e))layer.msg("请选择支付方式");else{$.extend(i.order,{mid:e});var t=i.utils.create_order_method();if("2"==t.state){$("#order_create_modal").modal("hide");var a={css_class:"order_success_tips",content:'<div><img src="/static/pc/main/images/order_success_tips.jpg"/><span class="title">请在你新打开的页面上完成付款</span><span class="tips">支付完成后，请根据您支付的情况点击下面按钮。</span></div>',cancel:"遇到问题",onCancel:function(){window.open("http://chuizi100.mikecrm.com/gAZ8zjJ")},ok:"支付成功",onOk:function(){location.href="/user/order/"}};i.utils.common_tips_modal(a),i.utils.is_pc()||"1"!=e?window.open("/pay/"+t.msg+"/"):i.utils.weixin_mp_pay(t.msg)}else layer.msg(t.msg)}})},create_order_method:function(){if(i.utils.isNull(i.order.quantity)&&(i.order.quantity=1),i.utils.isNull(i.order.pid))return layer.msg("不存在该商品，请刷新重试"),!1;var e={state:"0",msg:"创建订单失败"},t="/user/order/pay/";return null!=i.order&&null!=i.order.payUrl&&""!=i.order.payUrl&&(t=i.order.payUrl),$.ajax({url:t,dataType:"json",async:!1,data:{pid:i.order.pid,quantity:i.order.quantity,mid:i.order.mid},type:"POST",success:function(t){"2"==t.state&&(e.state="2"),e.msg=t.msg}}),e},weixin_mp_pay:function(e){var t="h5";i.utils.brower_info().wechat&&null!=WeixinJSBridge&&(t="mp"),$.ajax({url:"/pay/weixin_mp_pay/",type:"GET",data:{sn:e,wxPayType:t},dataType:"json",success:function(i){"2"==i.type?"mp"==t?WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:i.app_id,timeStamp:i.timeStamp,nonceStr:i.nonceStr,package:i.packageStr,signType:i.signType,paySign:i.paySign},function(e){"get_brand_wcpay_request:ok"==e.err_msg?(alert("支付成功"),location.href="/user/order/"):"get_brand_wcpay_request:cancel"==e.err_msg?alert("支付已取消"):alert("支付失败："+e.err_msg+JSON.stringify(e))}):location.href=i.mweb_url+"&redirect_url="+encodeURIComponent(location.protocol+"//"+location.host+"/pay/wap_weixin_pay_check/"+e+"/"):(layer.msg(i.msg),"3"==i.type&&setTimeout(function(){location.href="/wechat/mp_login_redirect/?redirectUrl="+encodeURIComponent(location.pathname)},1e3))}})},built_resume_modal:function(){function e(){$("div#built_resume_panel .panel_template_content .template_type .type_template_list").removeClass("checked"),$("div#built_resume_panel .panel_template_content .template_type .type_template_list:eq("+(Math.ceil(window.innerWidth/2/412)-1)+")").addClass("checked")}$(document).on("click",".built_resume_button",function(){var t=i.utils.getCookie("userid");if(!i.utils.isNull(t)&&2!=i.utils.vip_check("count","123456").state)return!1;$("#built_resume_panel").length<=0?$.get("/resume/built/",function(t){$("body").append(t),$("#built_resume_panel").show(),e()}):($("#built_resume_panel").show(),e()),$("body").css("overflow","hidden")}),$(document).on("click","#built_resume_panel .close_panel",function(){$("body").css("overflow","auto"),$("#built_resume_panel").hide()}),$(document).on("click","#built_resume_panel .panel_template_content .template_type .type_template_list button",function(){var e=$(this).closest(".type_template_list").attr("data_sn");if(null==e||""==e){var t=$(this).closest(".type_template_list").attr("data_id");location.href="/resume/edit/?fanwenid="+t}else location.href="/resume/edit/?sn="+e})},boostrap_modal_close:function(e){i.utils.init_info(),e.closest("div.modal").modal("hide")},progress_start:function(e){null!=e&&null!=e||(e=5);$("#nprogress").remove(),$("body").append('<div id="nprogress"><div class="nprogress-bar" role="nprogress-bar" style="transform: translate3d(-100%, 0px, 0px); transition: all 200ms ease 0s;"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div></div>');var t=-100,i=setInterval(function(){t<-e?(t+=e,$("#nprogress").find(".nprogress-bar").css("transform","translate3d("+t+"%, 0px, 0px)")):clearInterval(i)},500);setTimeout(function(){$("#nprogress").remove()},8e3)},progress_close:function(){$("#nprogress").find(".nprogress-bar").css("transform","translate3d(1%, 0px, 0px)"),setTimeout(function(){$("#nprogress").fadeOut()},500)},check_size:function(e,t,i){i||(i=3);var a=1024*i*1024;if(e&&e.files&&e.files[0]&&e.files[0].size&&e.files[0].size>a)return t&&alert("上传的文件超过最大限制"+i+"M，请重新上传"),!1;return!0},isChinese:function(e){return/[\u4e00-\u9fa5]/.test(e)},str2Unicdoe:function(e){if(!e)return"";for(var t="",i=0;i<e.length;i++){t+="\\u"+e.charAt(i).charCodeAt(0).toString(16)}return t},unicode2Str:function(e){if(e){for(var t=1,i="",a=0;a<e.length;a+=t){t=1;var o=e.charAt(a);if("\\"==o)if("u"==e.charAt(a+1)){var s=e.substr(a+2,4);i+=String.fromCharCode(parseInt(s,16).toString(10)),t=6}else i+=o;else i+=o}return i}},outside_statistics:function(){var e=i.utils.get_path_param("scode");e&&null!=e&&""!=e&&i.utils.addCookie("scode",e,null);var t=i.utils.get_path_param("sem_plan_code");t&&null!=t&&""!=t&&i.utils.addCookie("sem_plan_code",t,null);var a=i.utils.get_path_param("bd_vid");a&&null!=a&&""!=a&&(i.utils.addCookie("bd_vid",a,null),i.utils.addCookie("bd_vid_referer",location.href,null))},get_path_param:function(e){try{var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):""}catch(e){}return""},is_mobile_ios:function(){try{var e=navigator.userAgent;navigator.platform.toLocaleLowerCase();return/iPhone|iPod|iPad/i.test(e)}catch(e){}return!1},is_pc:function(){try{var e=navigator.userAgent,t=navigator.platform.toLocaleLowerCase(),i=/android/i.test(e)||/iPhone|iPod|iPad/i.test(e)&&/linux/i.test(t)||/ucweb.*linux/i.test(e),a=/iPhone|iPod|iPad/i.test(e)&&!i,o=/Windows Phone|ZuneWP7/i.test(e);return!i&&!a&&!o}catch(e){}return!0},is_weixin:function(){try{var e=navigator.userAgent,t=(navigator.platform.toLocaleLowerCase(),/micromessenger/gi.test(e))}catch(e){}return t},isMiniProgram:function(e,t){return"miniprogram"===window.__wxjs_environment?"function"!=typeof e||(e(),!0):"function"==typeof t&&(t(),!1)},selectText:function(e){var t;return document.selection?((t=document.body.createTextRange()).moveToElementText(e),t.select(),t):window.getSelection?((t=document.createRange()).selectNodeContents(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),t):void 0},common_tips_modal:function(e){var t={title:"弹框标题",content:"",css_class:"default",ok:"确定",cancel:"取消",onOk:null,onCancel:null,onShow:null};$.extend(t,e);var i='<div class="modal fade '+t.css_class+'" id="common_tips_modal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><span class="title">'+t.title+'</span><button type="button" class="close" data-dismiss="modal" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="15px"><path fill-rule="evenodd" fill="rgb(87, 93, 102)" d="M13.864,3.257 L9.621,7.500 L13.864,11.743 C14.254,12.133 14.254,12.766 13.864,13.157 L13.157,13.864 C12.766,14.254 12.133,14.254 11.743,13.864 L7.500,9.621 L3.257,13.864 C2.867,14.254 2.234,14.254 1.843,13.864 L1.136,13.157 C0.745,12.766 0.745,12.133 1.136,11.743 L5.379,7.500 L1.136,3.257 C0.745,2.867 0.745,2.234 1.136,1.843 L1.843,1.136 C2.234,0.745 2.867,0.745 3.257,1.136 L7.500,5.379 L11.743,1.136 C12.133,0.745 12.766,0.745 13.157,1.136 L13.864,1.843 C14.254,2.234 14.254,2.867 13.864,3.257 Z"></path></svg></button></div><div class="modal-body">'+t.content+'</div><div class="modal-footer"><button type="button" class="btn btn-default cancel_btn">'+t.cancel+'</button><button type="button" class="btn btn-primary ok_btn">'+t.ok+"</button></div></div></div></div>",a=$(i);$("#common_tips_modal").remove(),a.appendTo("body");var o=$("#common_tips_modal").find("button.ok_btn"),s=$("#common_tips_modal").find("button.cancel_btn");function n(){a.modal("hide"),a.remove(),$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),$("body").css("padding-right","")}null!=o&&o.click(function(){return t.onOk&&"function"==typeof t.onOk?0!=t.onOk()&&n():n(),!1}),null!=s&&s.click(function(){if(t.onCancel&&"function"==typeof t.onCancel){var e=t.onCancel();null!=e&&0==e||n()}else n();return!1}),a.modal("show"),t.onShow&&"function"==typeof t.onShow&&t.onShow(),$(".modal-backdrop").length>=2&&$(".modal-backdrop").eq(0).remove()},wechat_bind_check:function(){var e=i.utils.getCookie("wechat_flag");return!i.utils.isNull(e)&&"false"!=e||($("#weixinBindModal").modal("show"),!1)},get_weixin_qrcode_data:function(e){var t={};return $.ajax({url:"/wechat/scan/",dataType:"json",async:!1,data:{opt:e,timestr:(new Date).getTime()},type:"GET",success:function(e){t=e},error:function(){layer.msg("网络请求失败")}}),t},init_weixin_qrcode:function(e,t,a){if(null!=e&&null!=t){e instanceof jQuery||(e=$(e));var o=0,s=function(){e.removeClass("weixin_qrcode_fail");var s=i.utils.get_weixin_qrcode_data(t);if(console.log(s),"2"!=s.state)return e.addClass("weixin_qrcode_fail"),e.attr("src","/static/pc/main/images/weixin_qrcode_shixiao.png"),void layer.msg(s.msg);e.attr("src",s.url);var n=300;o=setInterval(function(){if(n<=0)return e.addClass("weixin_qrcode_fail"),e.attr("src","/static/pc/main/images/weixin_qrcode_shixiao.png"),clearInterval(o),!1;$.get("/wechat/scan/check/",{scene_str:s.scene_str,time:(new Date).getTime()},function(e){return"2"==e.state?(layer.msg(e.msg),i.utils.init_info(),a(),clearInterval(o),!1):"0"==e.state?(layer.msg(e.msg),clearInterval(o),!1):void 0}),n--},1e3)};s(),$(document).on("click",".weixin_qrcode_fail",function(){s()}),$(".weixinqrcodeModal").on("hidden.bs.modal",function(){clearInterval(o)})}else layer.msg("微信扫码初始化异常")},resume_retitle:function(e,t){null!=e&&""!=e?$.get("/resume/retitle/",{id:e},function(e){i.utils.common_tips_modal({title:"重命名",content:e,css_class:"retitle_modal",cancel:"取消",ok:"确定",onOk:function(){var e=$(".retitle_modal").find("input.title").val(),i=$(".retitle_modal").find(".retitle_body").attr("data_id");$.post("/resume/retitle/",{id:i,title:e},function(e){layer.msg(e.msg)}),$("#retitle_css").remove(),t&&"function"==typeof t&&t(e)},onCancel:function(){$("#retitle_css").remove()}})}):layer.msg("请选择操作的简历")},import_resume:function(e,t){null==e&&(e=""),null==t&&(t="");var a=null;function o(){$(".import_resume_modal .upload_file_area").show(),$(".import_resume_modal .upload_file_progress").hide(),$(".import_resume_modal .upload_file_progress").removeClass("end"),null==$.ajaxFileUpload&&$.getScript("/static/utils/ajaxfileupload.js")}function s(e,t){$(".import_resume_modal .upload_file_area").hide(),$(".import_resume_modal .upload_file_progress").show(),$(".import_resume_modal .file_name").text(e),$(".import_resume_modal .file_sizee").text(Math.floor(t/1024)+"KB"),$(".import_resume_modal .progress_width").width("0%"),$(".import_resume_modal .upload_scale").text("请点击上传")}i.utils.common_tips_modal({title:"导入简历",content:'<div class="import_resume_container"><input class="none" type="file" name="resumeFile" id="resumeFile" /><div class="upload_file_area">点击或拖拽文件到此区域</div><div class="upload_file_progress"><div class="file_info"><span class="file_name">锤子简历.pdf</span><span class="file_sizee">1024KB</span></div><div class="upload_progress"><div class="progress_width"></div></div><div class="upload_complete_tips"><div class="icon"><svg  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="15px"><path fill-rule="evenodd"  fill="rgb(0, 204, 153)" d="M7.500,-0.000 C11.642,-0.000 15.000,3.358 15.000,7.500 C15.000,11.642 11.642,15.000 7.500,15.000 C3.358,15.000 -0.000,11.642 -0.000,7.500 C-0.000,3.358 3.358,-0.000 7.500,-0.000 Z"/><path fill-rule="evenodd"  fill="rgb(255, 255, 255)" d="M11.678,5.914 L7.102,10.666 C6.680,11.103 5.998,11.103 5.576,10.666 L3.288,8.290 C2.867,7.852 2.867,7.143 3.288,6.706 C3.709,6.269 4.392,6.269 4.814,6.706 L6.339,8.290 L10.153,4.330 C10.574,3.893 11.257,3.893 11.678,4.330 C12.099,4.767 12.099,5.477 11.678,5.914 Z"/></svg></div><span>上传完成，正在解析...请稍等</span><div class="upload_scale">10%</div></div></div><div class="upload_file_tips"><div class="tips1">点击或直接将简历拖拽到此区域</div><div class="tips1">（支持jpg、pdf、doc、txt、xls、html等格式文件，文件不能超过2MB）</div></div></div>',css_class:"import_resume_modal",ok:"点击上传",cancel:"取消",onOk:function(){return null==a||""==a?(layer.msg("请先上传文件"),!1):(a.append("resumeId",e),a.append("templateSn",t),s=10,n=setInterval(function(){(s=$(".import_resume_modal .progress_width").width()+2)>=94?clearInterval(n):($(".import_resume_modal .progress_width").width(s+"%"),$(".import_resume_modal .upload_scale").text(s+"%"))},100),$.ajax({url:"/resume/import_resume/",type:"POST",cache:!1,data:a,processData:!1,contentType:!1,success:function(e){$(".import_resume_modal .progress_width").width("100%"),$(".import_resume_modal .upload_scale").text("100%"),$(".import_resume_modal .upload_file_progress").addClass("end"),2==e.state?setTimeout(function(){i.utils.common_tips_modal({title:"导入成功",content:"简历解析成功，去编辑简历？",css_class:"default_modal",ok:"去编辑",cancel:"不了",onOk:function(){location.href="/resume/edit/?rid="+e.data}})},1e3):(layer.msg(e.msg),setTimeout(function(){o()},2e3))}}),!1);var s,n}}),o(),$(".import_resume_modal .upload_file_area").off("click").on("click",function(){$(".import_resume_modal #resumeFile").trigger("click")}),$(".import_resume_modal #resumeFile").off("change").on("change",function(e){a=new FormData,console.log(e.currentTarget.files);var t=e.currentTarget.files[0];s(t.name,t.size),a.append("resumeFile",e.currentTarget.files[0])}),$(".import_resume_modal .upload_file_area").on({dragenter:function(e){e.preventDefault()},dragover:function(e){e.preventDefault()},dragleave:function(e){e.preventDefault()},drop:function(e){e.preventDefault(),console.log(e.originalEvent.dataTransfer.files);var t=e.originalEvent.dataTransfer.files[0];s(t.name,t.size),$(e.target).parents(".import_resume_modal").length>0&&(a=new FormData).append("resumeFile",e.originalEvent.dataTransfer.files[0])}})},merge_resume:function(){var e=$('<div class="meger_resume_container"><div class="title_tips"><div class="">合并文件导出</div><div class="">将中英文简历合并为一个PDF文件</div></div><div class="meger_tips"><div class="sort_tips"><i>注：</i>可拖动文件调整顺序</div><div class="add_resume"><i></i>添加文件</div></div><div class="meger_resume_area"></div><div class="select_resume_area"></div><div class="meger_file_name"><div class="tips">合并后文件命名</div><input class="meger_file_name_input" placeholder="请输入文件名称"></input></div></div>');$.get("/resume/my_resume_list/",function(t){if(2!=t.state)layer.msg(t.msg);else{var a="";$.each(t.data,function(t,i){var o="中文";"en"==i.language&&(o="英文");var s='<div class="resume_info_list"><span class="resume_lan '+i.language+'">'+o+'</span><span class="resume_ti">'+i.title+'</span><span data_rid="'+i.id+'" class="opt"></span></div>';t<2?e.find(".meger_resume_area").append($(s)):a+=s}),e.find(".select_resume_area").append($(a)),i.utils.common_tips_modal({title:"",content:e[0].outerHTML,css_class:"meger_resume_modal",ok:"下载至本地",cancel:"取消",onOk:function(){var e=new Array;$(".meger_resume_modal .meger_resume_area .resume_info_list").each(function(t,i){e.push($(i).find(".opt").attr("data_rid"))});var t=$(".meger_resume_modal .meger_file_name_input").val();if(0==e.length)return layer.msg("请选择合并的简历"),!1;if(null==t||""==t)return layer.msg("请输入合并后的文件名"),!1;var i=!1;if($.ajax({url:"/resume/merge_pdf_down/?v="+(new Date).getTime(),type:"GET",cache:!1,async:!1,data:{ids:e.join(","),name:t},success:function(e){2!=e.state?layer.msg(e.msg):i=!0}}),!i)return!1;window.open("/resume/merge_pdf_down/?ids="+e.join(",")+"&name="+t)},onShow:function(){$(".meger_resume_modal .meger_resume_area").sortable({items:".resume_info_list",cancel:".opt",cursor:"grabbing",helper:"clone",scrollSensitivity:50,scrollSpeed:30,tolerance:"pointer",activate:function(e,t){$(".meger_resume_modal .meger_resume_area").sortable("refreshPositions")},update:function(e,t){},stop:function(){$(".meger_resume_modal .meger_resume_area").removeAttr("style")}})}})}}),$(".meger_resume_modal .add_resume").off("click"),$(document).on("click",".meger_resume_modal .add_resume",function(){$(".meger_resume_modal .select_resume_area").show(),$(".meger_resume_modal .select_resume_area").addClass("show")}),$(".meger_resume_modal .select_resume_area .opt").off("click"),$(document).on("click",".meger_resume_modal .select_resume_area .opt",function(){$(".meger_resume_modal .meger_resume_area").append($(this).closest(".resume_info_list")),$(".meger_resume_modal .select_resume_area").hide(),$(".meger_resume_modal .select_resume_area").removeClass("show")}),$(".meger_resume_modal .meger_resume_area .opt").off("click"),$(document).on("click",".meger_resume_modal .meger_resume_area .opt",function(){$(".meger_resume_modal .select_resume_area").append($(this).closest(".resume_info_list"))})},resume_share_hb:function(e){var t={thumbImg:"",qrcode:""};$.extend(t,e);var a='<img id="hb_img" class="hb_img" /><p class="download_tips">海报已生成，请下载保存至本地</p><a href="javascript:void(0);" id="hb_download" class="hb_download">立即下载</a><div class="hidden"><img id="hb_canvas_bg" src="/static/pc/main/images/hb_share_bg.png" /><img id="hb_canvas_resume" src="'+t.thumbImg+'" width="192" height="272" /><img id="hb_canvas_qrcode" src="'+t.qrcode+'" width="94" height="94" /><canvas id="hb_canvas"></canvas></div>';i.utils.common_tips_modal({title:"",content:a,css_class:"resume_hb_modal"}),document.getElementById("hb_canvas_bg").onload=function(){var e=document.getElementById("hb_canvas");e.width=this.width,e.height=this.height;var t=e.getContext("2d");t.drawImage(this,0,0,this.width,this.height);var i=document.getElementById("hb_canvas_resume");t.drawImage(i,109,122,i.width,i.height);var a=document.getElementById("hb_canvas_qrcode");t.drawImage(a,160,450,a.width,a.height);var o=e.toDataURL("image/png");$("#hb_img").attr("src",o)};document.getElementById("hb_download").onclick=function(){if(window.navigator.msSaveBlob)try{var e=new Blob([document.getElementById("hb_img").src]);window.navigator.msSaveBlob(e,"我的简历")}catch(e){console.log(e)}else this.download="我的简历",this.href=document.getElementById("hb_img").src}},resume_share:function(e){null!=e&&""!=e?($.get("/resume/share_setting/",{id:e},function(e){i.utils.common_tips_modal({title:"",content:e,css_class:"share_setting_modal",ok:"确定",onOk:function(){var e=$(".share_setting_modal").find(".share_body").attr("data_id");$.post("/resume/share_setting/",{id:e},function(e){layer.msg(e.msg)}),$("#share_css").remove()},onCancel:function(){$("#share_css").remove()},onShow:function(){var e=$(".share_setting_modal").find("input.share_url").val();null!=e&&""!=e&&new QRCode($("#share_code")[0],{text:e,width:146,height:146,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H}).makeCode(e)}})}),$(".share_setting_modal .share_hb_btn").unbind("click"),$(document).on("click",".share_setting_modal .share_hb_btn",function(){$.get("/resume/get_thumb_img/",{id:e},function(e){if(2==e.state){var t=$("#share_code canvas")[0].toDataURL("image/png");i.utils.resume_share_hb({thumbImg:e.data,qrcode:t})}else layer.msg(e.msg)})}),$(".share_setting_modal .sharepower_panel").unbind("click"),$(document).on("click",".share_setting_modal .sharepower_panel",function(){$(".share_setting_modal .sharepower_list").show()}),$(".share_setting_modal .share_body").unbind("click"),$(document).on("mouseleave",".share_setting_modal .share_body",function(){$(".share_setting_modal .sharepower_list").hide()}),$('.share_setting_modal .sharepower_list li:not([type="password"])').unbind("click"),$(document).on("click",'.share_setting_modal .sharepower_list li:not([type="password"])',function(){var e=$(this),t=$(this).attr("type"),i=$(".share_setting_modal").find(".share_body").attr("data_id");$(".share_setting_modal .sharepower_list li").removeClass("share_checked"),e.addClass("share_checked"),$.post("/resume/share_setting/",{id:i,secretType:t},function(t){"2"==t.state&&($(".share_setting_modal .sharepower_list").hide(),$(".share_setting_modal .sharepower_panel .left .sharepower_name").text(e.find(".sharepower_name").text()),$(".share_setting_modal .sharepower_panel .left .sharepower_tips").text(e.find(".sharepower_tips").text())),layer.msg(t.msg)})}),$('.share_setting_modal .sharepower_list li[type="password"]').unbind("click"),$(document).on("click",'.share_setting_modal .sharepower_list li[type="password"]',function(){$(".share_setting_modal").find(".password_box").show()}),$(".share_setting_modal .sharepower_list li .confirm_btn").unbind("click"),$(document).on("click",".share_setting_modal .sharepower_list li .confirm_btn",function(){var e=$(this),t=$(this).closest("li").attr("type"),i=$(this).closest("li").find(".password").val(),a=$(".share_setting_modal").find(".share_body").attr("data_id");$.post("/resume/share_setting/",{id:a,secretType:t,password:i},function(t){"2"==t.state&&($(".share_setting_modal .sharepower_list").hide(),$(".share_setting_modal .sharepower_panel li.password .sharepower_name").text(e.closest("li").find(".sharepower_name").text()),$(".share_setting_modal .sharepower_panel li.password .sharepower_tips").text(e.closest("li").find(".sharepower_tips").text()),$(".share_setting_modal .sharepower_panel .auth_icon").removeClass("public_auth").removeClass("gray_close_eye").removeClass("gray_lock").addClass("gray_lock"),$(".share_setting_modal").find(".password_box").hide(),$(".share_setting_modal .sharepower_list").hide()),layer.msg(t.msg)})}),$(".share_setting_modal button.copyUrl").unbind("click"),$(document).on("click",".share_setting_modal button.copyUrl",function(){var e=$(".share_setting_modal").find("input.share_url").val(),t=$(".share_setting_modal").find("input.url").val();i.utils.copy(e+t)?layer.msg("复制链接成功"):layer.msg("复制链接失败")})):layer.msg("请选择操作的简历")},resume_auth:function(e){null!=e&&""!=e?($.get("/resume/quanxian/",{id:e},function(t){i.utils.common_tips_modal({title:"权限设置",content:t,css_class:"auth_setting_modal",ok:"确定",cancel:"取消",onOk:function(){var t=$(".auth_setting_modal .qxlist li.auth_checked").attr("type"),i=$(".auth_setting_modal .qxlist li.auth_checked").find(".password").val();return null==t||""==t?(layer.msg("请选择权限类型"),!1):(null!=i&&""!=i||(i=""),"password"==t&&""==i?(layer.msg("请输入密码"),!1):($.post("/resume/share_setting/",{id:e,secretType:t,password:i},function(e){layer.msg(e.msg)}),void $("#auth_css").remove()))},onCancel:function(){$("#auth_css").remove()}})}),$(".auth_setting_modal .qxlist li").unbind("click"),$(document).on("click",".auth_setting_modal .qxlist li",function(){var e=$(this);$(".auth_setting_modal .qxlist li").removeClass("auth_checked"),e.addClass("auth_checked")})):layer.msg("请选择操作的简历")},resume_download:function(e){if(null!=e&&""!=e){i.utils.common_tips_modal({title:"下载",content:'<div class="download_container"><div class="choose_tips">请选择简历下载格式</div><div class="choose_type"><div class="pdf choose_item choosed"><img src="//file.100chui.com/files/upload/image/202008/d0e996e0-ecb3-499f-a2da-9795127ed2ee.png"/><div class="type_tips">PDF格式</div></div><div class="image choose_item"><img src="//file.100chui.com/files/upload/image/202008/bb935aed-a715-490d-8aeb-5bc4eecde5b5.png"/><div class="type_tips">图片格式</div></div><div class="word choose_item none"><img src="//file.100chui.com/files/upload/image/202101/06ab4b16-d103-4aaf-b803-310d4afc1471.png"/><div class="type_tips">WORD格式</div></div></div></div>',css_class:"resume_download_modal",ok:"立即下载",cancel:"",onOk:function(){var t="pdf";$(".resume_download_modal .choose_type .choose_item.choosed").hasClass("image")?t="image":$(".resume_download_modal .choose_type .choose_item.choosed").hasClass("word")&&(t="word");try{if("pdf"==t){var i=e.lastIndexOf("/");-1!=i&&i>0&&(e=e.substring(0,i)+".pdf"+e.substring(i+1))}}catch(e){console.log("PDF链接替换错误~",e)}e.indexOf("?")>0?window.open(e+"&type="+t):window.open(e+"?type="+t)}}),$(".resume_download_modal .choose_type .choose_item").unbind("click"),$(document).on("click",".resume_download_modal .choose_type .choose_item",function(){var e=$(this);$(".resume_download_modal .choose_type .choose_item").removeClass("choosed"),e.addClass("choosed")})}else layer.msg("下载链接错误,请刷新重试")},common_loadding:function(e){var t=$(".common_loadding");t.length<=0&&(t=$('<div class="sk-circle-bounce common_loadding"><div class="sk-child sk-circle-1"></div><div class="sk-child sk-circle-2"></div><div class="sk-child sk-circle-3"></div><div class="sk-child sk-circle-4"></div><div class="sk-child sk-circle-5"></div><div class="sk-child sk-circle-6"></div><div class="sk-child sk-circle-7"></div><div class="sk-child sk-circle-8"></div><div class="sk-child sk-circle-9"></div><div class="sk-child sk-circle-10"></div><div class="sk-child sk-circle-11"></div><div class="sk-child sk-circle-12"></div></div>'),$("body").append(t)),null!=e&&setTimeout(function(){t.remove()},e)},common_loadding_hide:function(e){$(".common_loadding").remove()},empty_tips_opt:function(){if($(".empty_tips_opt").length>0&&$(".empty_tips_opt").children(":not(.item_flex_empty)").length<=0){var e=$(".layout-footer").height(),t=$(".layout-footer").css("display");(null==e||null==e||null!=t&&"none"==t)&&(e=0);var i=$(window).height()-$(".empty_tips_opt").offset().top-e;i<215&&(i=215),$(".empty_tips_opt").addClass("empty_tips"),$(".empty_tips_opt").css("min-height",i+"px")}},copy:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";var i=document.getSelection(),a=!1;i.rangeCount>0&&(a=i.getRangeAt(0)),document.body.append(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length;var o=!1;try{o=document.execCommand("copy")}catch(e){}return t.remove(),a&&(i.removeAllRanges(),i.addRange(a)),o},uuid:function(){for(var e=[],t=0;t<32;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-","uuid"+e.join("")},get_selection_range:function(e){if(window.getSelection&&document.createRange){var t=window.getSelection().getRangeAt(0),i=t.cloneRange();return i.selectNodeContents(e),i.setEnd(t.startContainer,t.startOffset),{start:a=i.toString().length,end:a+t.toString().length}}var a,o=document.selection.createRange(),s=document.body.createTextRange();return s.moveToElementText(e),s.setEndPoint("EndToStart",o),{start:a=s.text.length,end:a+o.text.length}},set_selection_range:function(e,t){if(window.getSelection&&document.createRange){var i=0,a=document.createRange();a.setStart(e,0),a.collapse(!0);for(var o,s=[e],n=!1,l=!1;!l&&(o=s.pop());)if(3==o.nodeType){var r=i+o.length;!n&&t.start>=i&&t.start<=r&&(a.setStart(o,t.start-i),n=!0),n&&t.end>=i&&t.end<=r&&(a.setEnd(o,t.end-i),l=!0),i=r}else for(var d=o.childNodes.length;d--;)s.push(o.childNodes[d]);var c=window.getSelection();c.removeAllRanges(),c.addRange(a)}else{var u=document.body.createTextRange();u.moveToElementText(e),u.collapse(!0),u.moveEnd("character",t.end),u.moveStart("character",t.start),u.select()}},rang_opt:function(){window.getSelection&&document.createRange||document.selection&&document.body.createTextRange&&function(e){var t=document.selection.createRange(),i=document.body.createTextRange();i.moveToElementText(e),i.setEndPoint("EndToStart",t);var a=i.text.length;return{start:a,end:a+t.text.length}}},rgb2Hex:function(e){var t=e.split(",");return"#"+((1<<24)+(parseInt(t[0].split("(")[1])<<16)+(parseInt(t[1])<<8)+parseInt(t[2].split(")")[0])).toString(16).slice(1)},arrayIndexOf:function(e,t){if(null==e||null==t)return-1;for(var i=0;i<e.length;i++)if(e[i]==t)return i;return-1},arrayRemove:function(e,t){var a=i.utils.arrayIndexOf(e,t);a>-1&&e.splice(a,1)},get_sign:function(){var e=(new Date).getTime();try{$.ajax({url:"/get_server_time/?v="+(new Date).getTime(),type:"GET",cache:!1,async:!1,success:function(t){e=t}})}catch(t){console.error("获取服务器时间错误",t),e=(new Date).getTime()}return{t:e,sign:md5("nskf78123f42kel3"+e)}}},$(function(){i.utils.initi(),$("#weixinLoginModal").on("show.bs.modal",function(){i.utils.init_weixin_qrcode($(".weixinqrcode img"),"signin",function(){var e=i.utils.getCookie("mobile_flag");i.utils.isNull(e)||"true"==e?(layer.msg("登录成功"),$("#weixinLoginModal").modal("hide")):($("#weixinLoginModal").modal("hide"),$("#mobileBindModal").modal("show"))})}),$("#weixinBindModal").on("show.bs.modal",function(){i.utils.init_weixin_qrcode($(".weixinqrcode img"),"bind",function(){layer.msg("绑定成功"),$("#weixinBindModal").modal("hide"),location.href="/signin/tips/"})}),$("#weixinUnBindModal").on("show.bs.modal",function(){i.utils.init_weixin_qrcode($(".weixinqrcode img"),"unbind",function(){layer.msg("解绑成功"),$("#weixinUnBindModal").modal("hide"),location.reload()})}),i.utils.is_pc()||($('[data-target="#weixinLoginModal"]').attr("data-target",""),$('[data-target="#weixinBindModal"]').attr("data-target",""),i.utils.wechat_bind_check=function(){return!0},i.utils.addCookie("wechat_flag","true"))}),window.common=i;try{var a={set:function(e,t,i){null==i&&(i=864e5);var a={value:t,expirse:(new Date).getTime()+i};localStorage.setItem(e,JSON.stringify(a))},get:function(e){var t=localStorage.getItem(e);if(null==t||null==t)return null;var i=JSON.parse(t);if(null!==i){if(!(null!=i.expirse&&i.expirse<(new Date).getTime()))return i.value;localStorage.removeItem(e)}return null}};window.customLocalStorage=a}catch(e){console.log("init customLocalStorage error",e)}try{window.trackevent=function(e){null!=e&&""!=e&&null!=e&&window._hmt&&window._hmt.push(["_trackEvent",e,"click"])}}catch(e){console.log("init trackevent error",e)}}]);